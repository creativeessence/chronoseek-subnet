# Bittensor Core Specification
# Machine-readable definitions of fundamental Bittensor concepts

network:
  name: bittensor
  chain: subtensor
  framework: substrate
  block_time_seconds:
    mainnet: 12
    testnet: 12
    localnet: 6
  max_subnets: 64
  root_netuid: 0

endpoints:
  mainnet: "wss://entrypoint-finney.opentensor.ai:443"
  testnet: "wss://test.finney.opentensor.ai:443"
  localnet: "ws://127.0.0.1:9944"

tokens:
  tao:
    description: "Native currency"
    max_supply: 21000000
    smallest_unit: rao
    rao_per_tao: 1_000_000_000
    daily_emission_approx: 7200
    halving: bitcoin_style

  alpha:
    description: "Subnet-specific token"
    creation: "staking TAO into subnet"
    destruction: "unstaking Alpha to TAO"
    price_mechanism: amm_pool
    conversion:
      stake_tao: "TAO → Alpha (buy)"
      unstake: "Alpha → TAO (sell)"
      slippage: "occurs on large transactions"

participants:
  subnet_owner:
    responsibilities:
      - deploy_subnet
      - configure_hyperparameters
      - set_identity_metadata
    receives: owner_emission_share
    controls: subnet_lifecycle

  miner:
    responsibilities:
      - register_on_subnet
      - provide_commodity
      - commit_endpoint_info
    receives: incentive_based_emission
    competes_on: quality_speed_cost

  validator:
    responsibilities:
      - register_with_stake
      - query_evaluate_miners
      - submit_weights_onchain
    receives: dividend_based_emission
    requires: validator_permit

  staker:
    responsibilities:
      - lock_tao_on_hotkeys
    receives: proportional_emissions
    can_delegate: true

keys:
  coldkey:
    type: "cold storage"
    operations:
      - staking
      - unstaking
      - transfers
      - subnet_creation
      - subnet_ownership
    security: "offline preferred"
    format: ss58

  hotkey:
    type: "operational"
    operations:
      - registration
      - weight_setting
      - request_signing
      - serving
    security: "can be on servers"
    format: ss58

  relationship: "one coldkey → many hotkeys"

metagraph:
  description: "Complete subnet state snapshot"
  core_attributes:
    - n: "neuron count"
    - block: "current block"
    - netuid: "subnet identifier"
  per_neuron_arrays:
    - S: "stake"
    - I: "incentive"
    - D: "dividends"
    - E: "emission"
    - T: "trust"
    - C: "consensus"
    - R: "rank"
    - active: "activity flag"
    - last_update: "last weight block"
    - validator_permit: "can validate"
    - hotkeys: "hotkey addresses"
    - coldkeys: "coldkey addresses"
  matrices:
    - W: "weight[validator][miner]"
    - B: "bond[validator][miner]"
  modes:
    lite: "no W/B matrices, faster"
    full: "includes W/B matrices"

uid:
  range: "0 to max_neurons-1"
  typical_max: 256
  scope: "unique within subnet, NOT global"
  recycling: "UIDs recycled when neurons pruned"

netuid:
  range: "0 to 65535 (u16)"
  reserved:
    0: "root network (governance)"
  scope: "globally unique"
