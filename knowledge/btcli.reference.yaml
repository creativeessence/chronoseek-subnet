# BTCLI Command Reference

installation: "pip install bittensor-cli"

global_options:
  network: "--network <finney|test|local|ws://url>"
  wallet_name: "--wallet.name <name>"
  wallet_hotkey: "--wallet.hotkey <key>"
  wallet_path: "--wallet.path <path>"
  no_prompt: "--no-prompt"
  quiet: "--quiet"
  verbose: "--verbose"

command_groups:
  wallet:
    list: "btcli wallet list"
    new_coldkey: "btcli wallet new_coldkey --wallet.name <name> --n_words 12"
    new_hotkey: "btcli wallet new_hotkey --wallet.name <name> --wallet.hotkey <hotkey>"
    overview: "btcli wallet overview --wallet.name <name>"
    balance: "btcli wallet balance --wallet.name <name>"
    regen_coldkey: "btcli wallet regen_coldkey --wallet.name <name> --mnemonic \"word1 word2...\""
    regen_hotkey: "btcli wallet regen_hotkey --wallet.name <name> --wallet.hotkey <hotkey> --mnemonic \"...\""
    transfer: "btcli wallet transfer --dest <address> --amount <TAO> --wallet.name <name>"
    faucet: "btcli wallet faucet --wallet.name <name> --network local"

  subnet:
    list: "btcli subnet list --network finney"
    show: "btcli subnet show --netuid <NETUID> --network finney"
    hyperparameters: "btcli subnet hyperparameters --netuid <NETUID> --network finney"
    metagraph: "btcli subnet metagraph --netuid <NETUID> --network finney"
    lock_cost: "btcli subnet lock-cost --network finney"
    create: "btcli subnet create --wallet.name <name> --network finney"
    register_burn: "btcli subnet register --netuid <NETUID> --wallet.name <name> --wallet.hotkey <hotkey>"
    register_pow: "btcli subnet pow_register --netuid <NETUID> --wallet.name <name> --wallet.hotkey <hotkey>"

  stake:
    show: "btcli stake show --wallet.name <name>"
    add: "btcli stake add --wallet.name <name> --wallet.hotkey <hotkey> --amount <TAO>"
    remove: "btcli stake remove --wallet.name <name> --wallet.hotkey <hotkey> --amount <TAO>"
    delegate: "btcli stake delegate --wallet.name <name> --delegate_ss58 <address> --amount <TAO>"
    undelegate: "btcli stake undelegate --wallet.name <name> --delegate_ss58 <address> --amount <TAO>"

  root:
    show: "btcli root show --network finney"
    list: "btcli root list --network finney"
    register: "btcli root register --wallet.name <name> --wallet.hotkey <hotkey>"
    weights: "btcli root weights --wallet.name <name> --wallet.hotkey <hotkey>"

  sudo:
    set: "btcli sudo set --netuid <NETUID> --param <param> --value <value> --wallet.name <name>"
    get: "btcli sudo get --netuid <NETUID> --param <param>"
    available_params:
      - tempo
      - max_allowed_uids
      - immunity_period
      - weights_rate_limit
      - max_weights_limit
      - min_allowed_weights
      - difficulty
      - burn
      - min_burn
      - max_burn
      - commit_reveal_weights_enabled
      - commit_reveal_period
      - registration_allowed

  weights:
    commit: "btcli weights commit --netuid <NETUID> --wallet.name <name> --wallet.hotkey <hotkey>"
    reveal: "btcli weights reveal --netuid <NETUID> --wallet.name <name> --wallet.hotkey <hotkey>"

  local:
    start: "btcli local start"
    stop: "btcli local stop"

workflows:
  initial_setup: |
    btcli wallet new_coldkey --wallet.name my_wallet
    btcli wallet new_hotkey --wallet.name my_wallet --wallet.hotkey miner
    btcli wallet balance --wallet.name my_wallet

  register_on_subnet: |
    btcli subnet show --netuid 1 --network finney
    btcli subnet register \
      --netuid 1 \
      --wallet.name my_wallet \
      --wallet.hotkey miner \
      --network finney

  create_subnet: |
    btcli subnet lock-cost --network finney
    btcli subnet create \
      --wallet.name my_wallet \
      --network finney

  configure_hyperparameters: |
    btcli sudo set --netuid <NETUID> --param tempo --value 100 --wallet.name my_wallet
    btcli sudo set --netuid <NETUID> --param max_allowed_uids --value 512 --wallet.name my_wallet
    btcli sudo set --netuid <NETUID> --param commit_reveal_weights_enabled --value true --wallet.name my_wallet

  monitor_subnet: |
    btcli subnet metagraph --netuid <NETUID> --network finney
    btcli subnet hyperparameters --netuid <NETUID> --network finney
    btcli stake show --wallet.name my_wallet --all

  stake_management: |
    btcli stake add --wallet.name my_wallet --wallet.hotkey miner --amount 100.0
    btcli stake delegate --wallet.name my_wallet --delegate_ss58 5Validator... --amount 50.0

network_endpoints:
  finney: "wss://entrypoint-finney.opentensor.ai:443"
  test: "wss://test.finney.opentensor.ai:443"
  local: "ws://127.0.0.1:9944"
  custom: "btcli subnet list --network ws://custom-node:9944"

config_file:
  path: "~/.bittensor/config.yaml"
  example: |
    wallet:
      name: default
      hotkey: default
      path: ~/.bittensor/wallets
    subtensor:
      network: finney

exit_codes:
  0: "success"
  1: "general error"
  2: "invalid arguments"
  3: "wallet error"
  4: "network error"

debugging:
  verbose: "btcli subnet metagraph --netuid 1 --verbose"
  grep_hotkey: "btcli subnet metagraph --netuid 1 | grep \"5HotkeyAddr...\""

batch_operations:
  export_addresses: "btcli wallet list | grep -E \"coldkey|hotkey\""
  monitor_all: |
    for i in {1..64}; do
      btcli subnet show --netuid $i --network finney 2>/dev/null
    done
